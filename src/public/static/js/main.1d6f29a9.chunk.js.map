{"version":3,"sources":["assets/imgs/send.png","assets/imgs/addPng.png","store/stores.ts","store/useStore.ts","components/ChatForm.tsx","components/ChatTopicPreview.tsx","components/ChatTopicList.tsx","components/ChatPreview.tsx","services/socketService.ts","components/ChatList.tsx","pages/ChatApp.tsx","App.tsx","serviceWorker.ts","services/chatService.ts","store/ChatItem.ts","store/ChatList.ts","store/RootStore.ts","index.tsx"],"names":["module","exports","StoreContext","createContext","StoreProvider","Provider","useStore","useContext","ChatForm","props","useState","txt","imgUrl","form","seForm","changeInput","ev","currentTarget","name","value","className","size","placeholder","topicAddMode","userName","onChange","type","onClick","sendMsg","setUserName","_id","Date","now","src","send_img","alt","ChatTopicPreview","chat","topic","setCurrTopic","currTopicId","ChatTopicsList","chatList","toggleTopicAddMode","setCurrChat","useEffect","getChats","useObserver","chats","map","key","currChat","ChatPreview","author","content","socket","setup","io","terminate","on","eventName","cb","off","emit","data","chatBottom","useRef","scroll","msg","a","getMsg","current","scrollIntoView","behavior","getMsgs","openSockets","SocketService","closeSockets","undefined","msgs","idx","ref","TodosPage","setTopicAddMode","addTopic","newTopic","addMsg","addPng","App","Boolean","window","location","hostname","match","axios","Axios","create","withCredentials","get","todos","id","post","put","update","getById","ChatItem","this","observable","action","newMsg","chatService","push","newChat","ChatList","shallow","rootStore","getTopic","console","log","find","forEach","RootStore","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error","message"],"mappings":"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","file":"static/js/main.1d6f29a9.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAABmJLR0QA/wD/AP+gvaeTAAAEBklEQVR4nO2aTWhcVRTHf+e8FFuoKCIoLixulOpCXQlduhDEQrJQV7q07lwIgkoSXl4qiNRoIm3ttCpaUWlBKZS6qHFlwVUo1o+mSq1fBVu0sVZtS989Lia0Tmfmvjcz792Zie+3S3Lvuf/zz7l35n5ARUXFZWZsDbGN9FtGSLThp7NEqhzTKYuJ7cY+aQqKNP0isQMCDwIXEPa4lC3E8kUftAWhyQCdticxXr+q0SGM2dT4iFguhZNXPk0G8ILdpCknuXp61DmJsdOt4jWel99KVxeAZgOAKLHPDe7z9DuPsNelvEQsX5akLQit/suYsC+j32qMx1U5EiX2WTRlj7DHohL0lU7LCmDa1qvxdYexjiPUXMpOYvm9d2lhaG0AoIkdBe7oIuY54D0Hc0zKV10rC0TLKbBM1jRox1pgk8IRSezgoE+PthXAZtugjkMFjfMdwi6XsoNYlgqKWQjtDYhNVfkFuLnA8f4E3nfCq0zINwXG7Zr2BgA6bTWMJ0oY1xl8qsZcOsl+RKyEMXLhNSCasodM2F+yhm8RtrqUN4jlXMljNeE1gDm7Rpc4DVwbQMtZ4AMnzDAhiwHGA7IMACSxvQIPhxCzTNDpkWlAlNhjBrvLFOHhGMI2t5pdPCN/lTFApgHEdr0qp4BVZQjIyR/A287xCrGcKDJwtgGAJDYvcH+RA3eJMzgQCbOXxpkvYnrkMkATewqY7XWwQhEOi7E9dbxLLH93HyYPsd2qyonc7cOyBLzjHC8Ty4+dds6dkCa2ANzb6QABuTI9JuSTvJ18m6FGss8I+o0KbHTGQU1sIUpsEzO2JqtT/pJO7G6Fwz1JDM8pjLdcxFbG5adWDTqa05rYceC2QqSF5SLCPoVaJ9OjoqJi5fO/WgSdMcukNBzz5b8Jju0ehi/5zI/B3AaoMFacrpIRFsTYka5lN0/LP76m+StAGaVvJ3e5SA0+7vSrcL41YLOtU8f3uduH5TTGm87Y1s1mKFcFqDHGoCVf0HY4lwFmjA5I9l3t+HzkORK7QZVf6WS9KJ76kZgyw7j8UGTgzKQiZaP1L/lFhO3LN85dl7mPzMQcwcu/8HM/H4N0MVLaya8PbwVEZ3jApPTkSz/79+E1wMr78jMEl6PlXI/X7//qZX60wLhd074CRtiAKyz5vt4A+2hrgDpGe4w9MGXuw/dIahG4vYuYA/cKxEfrCkjsLjpPvv4OaIQaz8mZnpUFoqUBKozlXP3NYF6NWrqeD3lU0kLVBaClAWKMZuTf8BZw6LL+D81rQGy3qPJzy78N6WtQH00VoNq897/8XH5Iy9xHkwF2ZfOzYl6E+2g04EW7Ti6yDuHZlVTmPhoNOM8FB3cSi+uTnoqKioqKiopw/Avgo4mc7CplEAAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAABmJLR0QA/wD/AP+gvaeTAAAEWElEQVRoge2aTWhdRRTHf2du6sKmYi1GQxNEaW13WrQf7qwru1MqfsVIXdjEgh9IimDz0pvkRYWqCzeaVBCsRIOCIpTuFFe2GKvL1lYFtWAqVWmTgvTdOS7yqiRl7rsfM49XeL/tOXPm/+fdd2fm3IE2bdq0adO6SNDqsd4cGe5T2KqwUeA2YA3QWc+YB84p/CRwQpSjifIlsfweSpJ/w6/oGlOjT5R+Fe4uUkLgGxUO2YhpXpZzPuX5MxxrjxGGEJ4GrvVUdQE4aA2vMyxnfBQsb3hSV5iz7EGp8v+j6puLKAfsal7lOfmnTKFyhsd1g1FmgDtK1cmK8L1NeIRYfihawhQdGI3qTqPM0iyzAMqdxjAbjeqDRUsUMhyN6S4VPiLcI5zGKhU+NmM6WGRwbsNmXAcU3gM6ikzoiQh424zrs3kH5voPR6O6U4WZ+oStQCLCQ0lFPss6ILvhWNcZw7fAdUWUBWTeWjYTy4ksydke6VivMYZPaD2zAJ3GMM2krsiSnMmwMbxIM9/G+dlk5ng+S2Jjw1VdCwyXVXQZhcPW0GMtvQpHfNUF9jOh3Y2SGho2CXuBlV4kAWoZZFjOEMtvahjwVRfoNAlDjZLSX1qLB4Ff8Lc3xo7IkjnNmKqv2sCC7eCWtANH6i9savTh0WwTWGkSHk1LSDUsSr9fPeERy5NpcbfhCe1W4S7vigKjwmYm9CZX3Gk4SthO6I5IGCSqca8r6DSssDWInCagwjZXLM3wxjBywqOwwRVzGhZYF0ZOeATWu2JpR7zr80yicFgNA3l7T8vX5SuItUcMUwI7cpRd7QqkLUu5Dvf/7aB8U2xH5tReuMVztZJmeD5PITFMEWtPST1XUtVesUzlHHXBFUj7D/8F3JB1BoEdYviVsfStce69tM2qYAl/uwJpy9KPhaZqARROuWJpy1KmlkkrInDSFXMbVo6GkRMega9dMafhpIMvAJ9n1WahScRXrqD7Lb1P5gRmg0gKiCjH2CdzrnjqOqzCIf+SwtJIc6phGzHN4ifLq4UF28FMWkL6TmuxN3TQp6Ilm5Oq9nqtrbzT6AN64wN+Vdcay0k8dS4VjqhlNx2IWKYE7vdRF7hgLbc3ui6RqaNhxvUllNf86AqEMGQr8kajtEyHB9vFm8B3pUWFQjhuu3grS2q209KAXLKWh4HzZXQFYt7C4wzIpSzJ2Y+HsZwWZReQFBQWgkSEPiri3EouJ9d5ONkvnwrsya8rCCowmFTk8zyDcjcAkhGZEngKqOUd65EE4ZlkRN7NO7Bw3zka1wdUeR9YVbRGQc6L0J/3l71M2WtL6+vXljaVqpMV4Xj92tLpoiXK9bQqcspatiC8QEpbxQMXUUZtwj1lzILPTykT2m1q7EXYjb/vyQvApLUc8HXhNNTl0scEnlDYUmAOFeWYGj6wCR8Sy58+5YW+PtwVCdtV2Fa/PnwrcCNLrw//ofDzsuvDZ4PqatOmTZs2Lcq/uElHxvUFwYEAAAAASUVORK5CYII=\"","import { createContext } from 'react';\nimport {  RootStore } from './RootStore';\n\nexport const StoreContext = createContext<RootStore>({} as RootStore);\nexport const StoreProvider = StoreContext.Provider;","import { RootStore } from './RootStore'\nimport { useContext } from 'react';\nimport { StoreContext } from './stores';\n\n\n\nexport const useStore = (): RootStore => useContext(StoreContext);","import React, { useState } from 'react'\n\nimport { Button, Input } from 'antd';\nimport send_img from '../assets/imgs/send.png'\n\ninterface Props {\n    sendMsg: Function\n    topicAddMode?: boolean\n    userName?: string\n    setUserName?: Function\n\n}\n\nexport default function ChatForm(props: Props) {\n\n    const [form, seForm] = useState({ txt: '', imgUrl: '' })\n\n\n    function sendMessage() {\n        if (!form.txt) return\n        if (props.topicAddMode) {\n            props.sendMsg(form)\n        } else if (!props.userName && props.setUserName) {\n            props.setUserName(form.txt)\n            props.sendMsg({ userName: '', txt: `${form.txt} has joined the chat`, _id: Date.now() })\n        } else {\n            props.sendMsg({ userName: props.userName, txt: form.txt, _id: Date.now() })\n        }\n        return seForm({ txt: '', imgUrl: '' })\n    }\n\n    function changeInput(ev: React.FormEvent<HTMLInputElement>) {\n        seForm({ ...form, [ev.currentTarget.name]: ev.currentTarget.value })\n    }\n\n    return (\n        <div>\n            <div className='flex form-container'>\n                <Input size='small' name='txt'\n                    placeholder={props.topicAddMode ?\n                        'Add a Topic' : props.userName ?\n                            'Send A Message' : 'Write Your Name'}\n                    value={form.txt} onChange={changeInput} />\n\n                {props.topicAddMode ?\n                    <Input size='small' name='imgUrl'\n                        placeholder='Img Url'\n                        value={form.imgUrl} onChange={changeInput} />\n                    : ''}\n\n                <Button size='small' className='btn' type='link' onClick={sendMessage} ><img src={send_img} alt='send'></img></Button>\n            </div>\n        </div>\n    )\n\n}","import React from 'react'\nimport ChatItem from '../store/ChatItem'\nimport { Avatar } from 'antd'\n\n\n\n\ninterface Props {\n    chat: ChatItem\n    setCurrTopic: Function\n    currTopicId: number\n}\n\nexport default function ChatTopicPreview(props: Props) {\n    const { chat: { topic, _id, imgUrl }, setCurrTopic, currTopicId } = props\n    return (\n        <div onClick={() => setCurrTopic(_id)} className={`flex pointer topic-container ${currTopicId === _id ? 'active-topic' : ''}`}>\n            <Avatar size='large' src={imgUrl} />\n            <h4 className='center-self'>{topic}</h4>\n        </div>\n    )\n\n}","\nimport React, { useEffect } from 'react'\nimport ChatTopicPreview from './ChatTopicPreview'\nimport { useStore } from '../store/useStore';\nimport { useObserver } from 'mobx-react-lite'\n\ninterface Props {\n    toggleTopicAddMode: Function\n    topicAddMode: Boolean\n}\n\nexport default function ChatTopicsList(props: Props) {\n\n    const rootStore = useStore();\n    const { chatList } = rootStore\n\n    function setCurrTopic(_id: number) {\n        if (props.topicAddMode) {\n            props.toggleTopicAddMode()\n        }\n        chatList.setCurrChat(_id)\n    }\n\n    useEffect(() => {\n        chatList.getChats()\n    }, [chatList])\n\n    return useObserver(() => (\n        <div className='overflow-y'>\n            {chatList.chats.map((chat) => {\n                return <ChatTopicPreview setCurrTopic={setCurrTopic} key={chat._id + chat.topic} chat={chat} currTopicId={chatList.currChat._id} />\n            })}\n        </div>\n\n    )\n    )\n\n}","import React from 'react'\nimport ChatMsg from '../interfaces/ChatMsg'\nimport { Comment } from 'antd'\n\n\ninterface Props {\n    chat: ChatMsg\n    userName: string\n}\n\nexport default function ChatPreview(props: Props) {\n    const { userName, txt } = props.chat\n\n    return (\n        <div className={`flex coulmn comment-container ${props.userName === userName && props.userName ? 'rtl my-message' : ''} `}>\n            <Comment\n                author={<p>{userName}</p>}\n                content={\n                    <p className={`${props.userName === userName && props.userName ? 'rtl my-message' : 'others-msg'} `}>\n                        {txt}\n                    </p>\n                } />\n        </div>\n\n    )\n\n}","import io from 'socket.io-client';\r\n\r\n\r\nconst BASE_URL: string =\r\n  process.env.NODE_ENV === 'production' ? '/' : '//localhost:3030';\r\n\r\nlet socket: SocketIOClient.Socket | null\r\n\r\n\r\n\r\nfunction setup() {\r\n  socket = io(BASE_URL);\r\n}\r\n\r\nfunction terminate() {\r\n  socket = null;\r\n}\r\n\r\nfunction on(eventName: string, cb: Function) {\r\n  if (!socket) {\r\n    return\r\n  }\r\n  return socket.on(eventName, cb)\r\n}\r\n\r\nfunction off(eventName: string, cb: Function|undefined) {\r\n  if (!socket) {\r\n    return\r\n  }\r\n  else return socket.off(eventName, cb);\r\n}\r\n\r\nfunction emit(eventName: string, data: object) {\r\n  if (!socket) {\r\n    return\r\n  }\r\n  else return socket.emit(eventName, data);\r\n}\r\n\r\n\r\nexport default {\r\n  setup,\r\n  terminate,\r\n  on,\r\n  off,\r\n  emit\r\n};","\nimport React, { useEffect, useRef } from 'react'\nimport { useStore } from '../store/useStore';\nimport { useObserver } from 'mobx-react-lite'\nimport ChatPreview from './ChatPreview';\nimport SocketService from '../services/socketService';\nimport ChatMsg from '../interfaces/ChatMsg';\n\ninterface Props {\n    userName: string\n}\n\n\nexport default function ChatTopicsList(props: Props) {\n\n    const rootStore = useStore();\n    const { chatList } = rootStore\n    const chatBottom = useRef<HTMLDivElement>(null)\n\n    async function scroll(msg: ChatMsg) {\n        await chatList.currChat.getMsg(msg)\n        chatBottom.current?.scrollIntoView({ behavior: \"smooth\" })\n    }\n\n\n    useEffect(() => {\n        chatList.currChat.getMsgs()\n        chatList.currChat.openSockets()\n        SocketService.on('chat newMsg', scroll)\n        return () => {\n            chatList.currChat.closeSockets()\n            SocketService.off('chat newMsg', undefined)\n        }\n    }, [chatList.currChat])\n\n    return useObserver(() => (\n        <div className='msg-container'>\n            {chatList.currChat.msgs.map((chat, idx) => {\n                return <ChatPreview userName={props.userName} key={idx} chat={chat} />\n            })}\n            <div ref={chatBottom} />\n        </div>\n    )\n    )\n\n\n}","import React, { useState, useEffect } from 'react'\nimport { useStore } from '../store/useStore';\nimport { useObserver } from 'mobx-react-lite'\n\nimport ChatForm from '../components/ChatForm'\nimport ChatMsg from '../interfaces/ChatMsg';\nimport ChatTopicsList from '../components/ChatTopicList';\nimport ChatList from '../components/ChatList';\nimport addPng from '../assets/imgs/addPng.png'\nimport { Avatar } from 'antd';\n\n\n\nexport default function TodosPage() {\n    const rootStore = useStore();\n    const { chatList } = rootStore\n    const [topicAddMode, setTopicAddMode] = useState(false)\n    const [userName, setUserName] = useState('')\n\n    useEffect(() => {\n        chatList.openSockets()\n    }, [chatList])\n\n    function toggleTopicAddMode() {\n        setTopicAddMode(!topicAddMode)\n    }\n\n    async function addTopic(newTopic: { txt: string, imgUrl: string }) {\n        chatList.addTopic(newTopic)\n        toggleTopicAddMode()\n    }\n\n    function sendMsg(msg: ChatMsg) {\n        chatList.currChat.addMsg(msg)\n    }\n\n\n    return useObserver(() => {\n        const { currChat } = chatList\n\n        return <div className='app-container flex coulmn justify-center'>\n            <div className='flex'>\n                <div className='flex coulmn container topics-container'>\n                    <div className='flex header chat-header-container'>\n                        <h3 >Topics</h3>\n                    </div>\n                    <h3 className='pointer add-btn' onClick={toggleTopicAddMode}><img src={addPng} alt='+' /></h3>\n                    <ChatTopicsList topicAddMode={topicAddMode} toggleTopicAddMode={toggleTopicAddMode} />\n                </div>\n\n                {topicAddMode ?\n                    <div className='flex coulmn space-between container chat-container'>\n                        <h3 className='header'>Add Topic</h3>\n                        <ChatForm topicAddMode={topicAddMode} sendMsg={addTopic} />\n                    </div> :\n                    currChat._id ?\n                        <div className='flex coulmn container chat-container'>\n                            <div className='flex header chat-header-container'>\n                                <Avatar src={currChat.imgUrl} />\n                                <h3 className='center-self'> {currChat.topic}</h3>\n                            </div>\n                            <ChatList userName={userName} />\n                            <ChatForm topicAddMode={topicAddMode} setUserName={setUserName}\n                                userName={userName} sendMsg={sendMsg} />\n                        </div>\n                        : ''}\n            </div>\n        </div>\n    }\n    )\n\n}","import React from 'react';\nimport HomePage from './pages/ChatApp';\nimport './assets/styles/global.scss'\n\n\nfunction App() {\n   return (\n      <main>\n         <HomePage />\n      </main>\n   )\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import Axios from 'axios'\nimport ChatMsg from '../interfaces/ChatMsg';\nimport ChatItem from '../store/ChatItem';\n\nconst BASE_URL = process.env.NODE_ENV === 'production'\n    ? '/api/chat'\n    : '//localhost:3030/api/chat'\n\n\nlet axios = Axios.create({\n    withCredentials: true\n});\n\n\nasync function get() {\n    const todos = await axios.get(BASE_URL)\n    return todos.data\n}\n\nasync function getById(id: number) {\n    const todos = await axios.get(`${BASE_URL}/${id}`)\n    return todos.data\n}\n\nasync function addTopic(topic: ChatItem) {\n    const todos = await axios.post(BASE_URL, topic)\n    return todos.data\n}\n\nasync function update(id: number, chatList: ChatMsg) {\n    const todos = await axios.put(`${BASE_URL}/${id}`, chatList)\n    return todos.data\n}\n\n\n\n\nexport default {\n    get,\n    addTopic,\n    update,\n    getById\n}","\nimport { observable, action } from \"mobx\"\nimport chatService from '../services/chatService'\nimport ChatMsg from '../interfaces/ChatMsg'\nimport SocketService from \"../services/socketService\"\n\n\nexport default class ChatItem {\n\n    topic: string\n    @observable msgs: ChatMsg[]\n    _id: number\n    imgUrl: string\n\n    constructor(topic: string, msgs: ChatMsg[], _id: number = Date.now(), imgUrl: string) {\n        this.topic = topic\n        this.msgs = msgs\n        this._id = _id\n        this.imgUrl = imgUrl\n    }\n\n    @action\n    addMsg = async (newMsg: ChatMsg) => {\n        chatService.update(this._id, newMsg)\n        SocketService.emit('chat newMsg', { topic: this.topic, msg: newMsg })\n    }\n\n    openSockets = async () => {\n        SocketService.emit('join room', { topic: this.topic })\n    }\n\n    closeSockets = async () => {\n        SocketService.emit('leave room', { topic: this.topic })\n    }\n\n    @action\n    getMsg = async (newMsg: ChatMsg) => {\n        this.msgs.push(newMsg)\n    }\n\n    @action\n    getMsgs = async () => {\n        const newChat = await chatService.getById(this._id)\n        if (!newChat.msgs) {\n            return\n        }\n        this.msgs = newChat.msgs\n    }\n\n}\n\n\n\n","import { RootStore } from './RootStore'\n\nimport { observable, action } from \"mobx\"\nimport chatService from '../services/chatService'\nimport ChatItem from './ChatItem'\nimport SocketService from '../services/socketService'\n\n\nexport default class ChatList {\n\n    @observable.shallow chats: ChatItem[] = []\n    @observable currChat: ChatItem = new ChatItem('', [], 0, '')\n    rootStore: RootStore\n    constructor(rootStore: RootStore) {\n        this.rootStore = rootStore\n    }\n\n    @action\n    addTopic = async (topic: { txt: string, imgUrl: string }) => {\n        const newTopic = new ChatItem(topic.txt, [], Date.now(), topic.imgUrl)\n        console.log(newTopic)\n        console.log(topic)\n        const chat = await chatService.addTopic(newTopic)\n        SocketService.emit('new topic', chat)\n        this.currChat = newTopic\n    }\n\n    openSockets = () => {\n        SocketService.setup()\n        SocketService.on('new topic', this.getTopic)\n    }\n\n    getTopic = (newTopic: ChatItem) => {\n        this.chats.push(new ChatItem(newTopic.topic, newTopic.msgs, newTopic._id, newTopic.imgUrl))\n    }\n\n    @action\n    setCurrChat = async (_id: number) => {\n        const currChat = this.chats.find((chat) => {\n            return _id === chat._id\n        })\n        if (currChat) {\n            this.currChat = currChat\n        }\n    }\n\n    @action\n    getChats = async () => {\n        const chats: ChatItem[] = await chatService.get()\n        chats.forEach(chat => {\n            this.chats.push(new ChatItem(chat.topic, chat.msgs, chat._id, chat.imgUrl))\n        });\n    }\n}\n\n","import ChatList from './ChatList'\n\nexport class RootStore {\n    chatList: ChatList\n    constructor() {\n        this.chatList = new ChatList(this)\n    }\n}\nnew RootStore()\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport { StoreProvider } from \"./store/stores\";\nimport { RootStore } from './store/RootStore';\n\n\n\nReactDOM.render(<StoreProvider value={new RootStore()}>\n    <App />\n</StoreProvider>,\n    document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}